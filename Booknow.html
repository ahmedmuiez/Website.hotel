<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Booking</title>
    <script defer src="https://cdn.jsdelivr.net/npm/@alpinejs/mask@3.x.x/dist/cdn.min.js"></script>
    <script src="//unpkg.com/alpinejs" defer></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <link rel="stylesheet" href="booknow.css">
    <link rel="stylesheet" href="stylebooking.css">
    
</head>

<body>

    <div class="navbar">
            
        <ul>
            <li><a href="homepage.html"><b>HOME</b></a></li>
        </ul>

      




    </div>


    <div id="_app" x-data="_app" class="container">

        <div class="mt-4">

            <div class="p-5 mb-4 bg-body-tertiary rounded-3">
                <div class="container-fluid py-5">
                    <h1 class="display-5 fw-bold">Welcome to Hotel PaLAZZO❤️</h1>
                    <p class="col-md-8 fs-4">
                        Hello Customer!.., welcome to our hotel booking page.                    
                    </p>            
                    <p>
                        You have <span x-text="loyality_points"></span> loyality points
                    </p>
                </div>
            </div>

            <ul class="nav nav-tabs">
                <li class="nav-item" x-on:click="tab = 1">
                    <a class="nav-link" x-bind:class="tab == 1 ? 'active' : ''" aria-current="page" href="#">
                        Booking
                    </a>
                </li>
                <li class="nav-item" x-bind:class="tab == 2 ? 'active' : ''" x-on:click="tab = 2">
                    <a class="nav-link" href="#">Checkout</a>
                </li>
                <li class="nav-item" x-bind:class="tab == 3 ? 'active' : ''" x-on:click="tab = 3">
                    <a class="nav-link" href="#">Favorites</a>
                </li>
                <li class="nav-item" x-bind:class="tab == 4 ? 'active' : ''" x-on:click="tab = 4">
                    <a class="nav-link" href="#">Past Bookings</a>
                </li>
            </ul>
            <div class="border border-1 p-4">
                <div x-show="tab === 1">


                    <h5>
                        Select Room Type
                    </h5>

                    <div class="row">
                        <div class="mb-3">
                            <label for="room_cost" class="form-label">Room Type</label>
                                <select type="date" x-model="booking.room_cost" class="form-control" id="room">
                                    <option value="0">Select Room</option>
                                    <option value="25000">Single room</option>
                                    <option value="35000" >Double room</option>
                                    <option value="40000">Triple room</option>
                                </select>
                         </div>

                        

                        <div class="form-floating mb-3 col">
                            <input type="date" x-model="booking.check_in" class="form-control" id="check-in" />
                            <label for="check-in">Check In Date</label>
                        </div>
                        <div class="form-floating mb-3 col">
                            <input type="date" x-model="booking.check_out" class="form-control" id="check-out" />
                            <label for="check-out">Check Out Date</label>
                        </div>
                    </div>

                    

                    <div class="row">
                        <div class="form-floating mb-3 col-12">
                            <input x-model="booking.number_of_rooms" type="number" class="form-control"
                                id="number-of-rooms" />
                            <label for="number-of-rooms">Number of Rooms</label>
                        </div>
                        <div class="form-floating mb-3 col">
                            <input x-model="booking.number_of_adults" type="number" class="form-control"
                                id="number-of-adults" />
                            <label for="number-of-adults">Number of Adults</label>
                        </div>
                        <div class="form-floating mb-3 col">
                            <input x-model="booking.number_of_children" type="number" class="form-control"
                                id="number-of-children" />
                            <label for="number-of-children">Number of Children</label>
                        </div>
                        <div class="form-floating mb-3 col">
                            <input x-model="booking.extra_bed" type="number" class="form-control"
                                id="number-of-children" />
                            <label for="number-of-children">Extra Bed</label>
                        </div>
                    </div>

                    <hr>
                    
                    <h5>
                        Select Adventure
                    </h5>

                    <div class="container mt-4">
                        <div class="row">
                            <div class="col-md-6">
                                <h4 class="mb-3">Local Participants</h4>
                                <div class="form-floating mb-3">
                                    <input x-model="booking.adventure.number_of_adults_local" type="number" class="form-control" id="number-of-adults-local" />
                                    <label for="number-of-adults-local">Number of Adults (Local)</label>
                                </div>
                    
                                <div class="form-floating mb-3">
                                    <input x-model="booking.adventure.number_of_children_local" type="number" class="form-control" id="number-of-children-local" />
                                    <label for="number-of-children-local">Number of Children (Local)</label>
                                </div>
                            </div>
                    
                            <div class="col-md-6">
                                <h4 class="mb-3">Foreign Participants</h4>
                                <div class="form-floating mb-3">
                                    <input x-model="booking.adventure.number_of_adults_foreign" type="number" class="form-control" id="number-of-adults-foreign" />
                                    <label for="number-of-adults-foreign">Number of Adults (Foreign)</label>
                                </div>
                    
                                <div class="form-floating mb-3">
                                    <input x-model="booking.adventure.number_of_children_foreign" type="number" class="form-control" id="number-of-children-foreign" />
                                    <label for="number-of-children-foreign">Number of Children (Foreign)</label>
                                </div>
                            </div>
                        </div>
                    
                    
                        <div class="row">
                            <div class="col-12">
                                <h4 class="mb-3">Adventure Guides</h4>
                                <div class="form-floating mb-3 col-md-6">
                                    <input x-model="booking.adventure.adult_guide" type="number" class="form-control" id="adult-guide" />
                                    <label for="adult-guide">Adult Guide</label>
                                </div>
                    
                                <div class="form-floating mb-3 col-md-6">
                                    <input x-model="booking.adventure.child_guide" type="number" class="form-control" id="child-guide" />
                                    <label for="child-guide">Child Guide</label>
                                </div>
                            </div>
                        </div>


                    </div>

                    <hr>

                    <h5>
                        Summary
                    </h5>

                    <div>
                        <div class="form-floating mb-3 col">
                            <input x-model="booking.promo_code" type="text" class="form-control" id="promo_code" />
                            <label for="promo_code">Promo Code</label>
                        </div>

                        
                            <!-- Your HTML content without tables -->
                        <div class="cost-summary">
                            <div class="cost-item">
                                <span>Room Cost</span>
                                <span>LKR <span x-text="booking.room_cost * booking.number_of_rooms"></span>.00</span>
                            </div>
                            <hr>
                            <div class="cost-item">
                                <span>Adventure Cost</span>
                                <span>LKR <span x-text="total_adventure_cost"></span>.00</span>
                            </div>
                            <hr>
                            <div class="cost-item">
                                <span>Total Cost</span>
                                <span>LKR <span x-text="total_cost"></span>.00</span>
                            </div>
                            <hr>
                            <div class="cost-item">
                                <span>Total Discount</span>
                                <span>LKR <span x-text="booking.total_discount"></span>.00</span>
                            </div>
                            <hr>
                            <div class="cost-item">
                                <span>Final Total</span>
                                <span>LKR <span x-text="booking.final_total"></span>.00</span>
                            </div>
                        </div>

                    </div>
                </div>
                        <button x-on:click="goToCheckout" class="btn btn-success">
                            Checkout
                        </button>
                    
                

                <div x-show="tab === 2">
                    <h5>
                        Summary
                    </h5>
                    <div class="cost-summary">
                        <div class="cost-item">
                            <span>Room Cost</span>
                            <span>LKR <span x-text="booking.room_cost * booking.number_of_rooms"></span>.00</span>
                        </div>
                        <hr>
                        <div class="cost-item">
                            <span>Adventure Cost</span>
                            <span>LKR <span x-text="total_adventure_cost"></span>.00</span>
                        </div>
                        <hr>
                        <div class="cost-item">
                            <span>Total Cost</span>
                            <span>LKR <span x-text="total_cost"></span>.00</span>
                        </div>
                        <hr>
                        <div class="cost-item">
                            <span>Total Discount</span>
                            <span>LKR <span x-text="booking.total_discount"></span>.00</span>
                        </div>
                        <hr>
                        <div class="cost-item">
                            <span>Final Total</span>
                            <span>LKR <span x-text="booking.final_total"></span>.00</span>
                        </div>
                    </div>
                    <h5> 
                        Check-Out
                    </h5>
                  
                    <div class="checkout">

                        <div class="login-box">
                            
                            <form x-on:submit.prevent="completeBooking">
                               <div>
                                <div class="user-box">
                                    <input x-model="booking.customer.name" class="form-control" type="text" name="" required="">
                                    <label>Name</label>
                                </div>
                                <div class="user-box">
                                    <input x-model="booking.customer.email" class="form-control" type="password" name="" required="">
                                    <label>Email</label>
                                </div>
                                <div class="user-box">
                                    <input x-model="booking.customer.phone" x-mask="999-999-9999" class="form-control" type="text" name="" required="">
                                    <label>Phone</label>

                                </div>
                                <div class="user-box">
                                    <input x-model="booking.customer.address" class="form-control"  type="text" name="" required="">
                                    <label>Address</label>
                                </div>
                                <div class="user-box">
                                    <input x-model="booking.customer.country" class="form-control" type="x-text="expression"" name="" required="">
                                    <label>Country</label>
                                </div>
                                <div class="user-box">
                                    <input x-model="booking.customer.city" class="form-control" type="text" name="" required="">
                                    <label>City</label>
                                </div>
                                <div class="user-box">
                                    <input x-model="booking.customer.postal_code" class="form-control" type="text" name="" required="">
                                    <label>Postal Code</label>
                                </div>
                                <div class="user-box">
                                    <input x-model="booking.customer.card_number" x-mask="4999-9999-9999-9999" class="form-control" type="text" name=""  required="">
                                    <label>Card Number</label>
                                </div>
                                <div class="user-box">
                                    <input x-model="booking.customer.card_holder" class="form-control" type="number" name="" required="">
                                    <label>Card Holder</label>
                                </div>
                                <div class="user-box">
                                    <input x-model="booking.customer.expiry_date" class="form-control" type="number"  name="" required="">
                                    <label>Expiry Date</label>
                                </div>
                               </div>

                        
                                <div class="submit">
                                    <button class="btn btn-success" type="submit">
                                        Confirm Booking
                                    </button>
                
                                    <button type="button" class="btn btn-primary" x-on:click="addToFavorites">
                                        Add To Favorites
                                    </button>
                
                                    <button class="btn btn-success" type="submit" x-on:click="alert(hello)">Check loyality</button>
                                        
                                </div>
                            </form>     
                        </div>
                    </div>
                    
                </div>

                <div x-show="tab === 3">
                    <h5>
                        Favorites
                    </h5>

                    <table class="table table-bordered">
                        <thead>
                            <tr>
                                <th scope="col">Check In</th>
                                <th scope="col">Check Out</th>
                                <th scope="col">Room Cost</th>
                                <th scope="col">Number of Rooms</th>
                                <th scope="col">Number of Adults</th>
                                <th scope="col">Number of Children</th>
                                <th scope="col">Extra Bed</th>
                                <th scope="col">Promo Code</th>
                                <th scope="col">Total Cost</th>
                                <th scope="col">Discount Percentage</th>
                                <th scope="col">Total Discount</th>
                                <th scope="col">Final Total</th>
                                <th scope="col">Total Adventure Cost</th>
                                <th scope="col">Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            <template x-for="(booking, index) in favorites" :key="booking">
                                <tr>
                                    <td x-text="booking.checkin"></td>
                                    <td x-text="booking.checkout"></td>
                                    <td x-text="booking.room_cost"></td>
                                    <td x-text="booking.number_of_rooms"></td>
                                    <td x-text="booking.number_of_adults"></td>
                                    <td x-text="booking.number_of_children"></td>
                                    <td x-text="booking.extra_bed"></td>
                                    <td x-text="booking.promo_code"></td>
                                    <td x-text="booking.total_cost"></td>
                                    <td x-text="booking.discount_percentage"></td>
                                    <td x-text="booking.total_discount"></td>
                                    <td x-text="booking.final_total"></td>
                                    <td x-text="booking.final_adventure_cost"></td>
                                    <td>
                                        <button class="btn btn-primary" x-on:click="bookFavorite(index)">
                                            Book Now
                                        </button>
                                    </td>
                                </tr>
                            </template>
                        </tbody>
                    </table>

                </div>
                <div x-show="tab === 4">
                    <h5>
                        Past Bookings
                    </h5>

                    <table class="table table-bordered">
                        <thead>
                            <tr>
                                <th scope="col">Check In</th>
                                <th scope="col">Check Out</th>
                                <th scope="col">Room Cost</th>
                                <th scope="col">Number of Rooms</th>
                                <th scope="col">Number of Adults</th>
                                <th scope="col">Number of Children</th>
                                <th scope="col">Extra Bed</th>
                                <th scope="col">Promo Code</th>
                                <th scope="col">Total Cost</th>
                                <th scope="col">Discount Percentage</th>
                                <th scope="col">Total Discount</th>
                                <th scope="col">Final Total</th>
                                <th scope="col">Total Adventure Cost</th>
                            </tr>
                        </thead>
                        <tbody>
                            <template x-for="booking in past_bookings" :key="booking">
                                <tr>
                                    <td x-text="booking.checkin"></td>
                                    <td x-text="booking.checkout"></td>
                                    <td x-text="booking.room_cost"></td>
                                    <td x-text="booking.number_of_rooms"></td>
                                    <td x-text="booking.number_of_adults"></td>
                                    <td x-text="booking.number_of_children"></td>
                                    <td x-text="booking.extra_bed"></td>
                                    <td x-text="booking.promo_code"></td>
                                    <td x-text="booking.total_cost"></td>
                                    <td x-text="booking.discount_percentage"></td>
                                    <td x-text="booking.total_discount"></td>
                                    <td x-text="booking.final_total"></td>
                                    <td x-text="booking.final_adventure_cost"></td>
                                </tr>
                            </template>
                        </tbody>
                </div>
            </div>
        </div>



    </div>
    <script src="main.js"></script>

    

</body>

</html>